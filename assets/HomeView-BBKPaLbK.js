import{r as n,o as y,c as a,a as t,n as w,t as l,b as k,w as g,d as m,e as A,F as v,f,g as C,h as P,i as o,j as B,k as H}from"./index-p-G5GG4T.js";const N={class:"panel mb-4 animate-[float_8s_ease-in-out_infinite]"},V={class:"d-flex flex-column flex-lg-row justify-content-between gap-4"},D={class:"d-inline-flex align-items-center gap-2 mb-3 text-uppercase small fw-semibold"},S={class:"d-flex flex-wrap gap-3"},j={class:"mini-stats row row-cols-1 g-3"},I={class:"col"},M={class:"card border-0 h-100 text-center py-3"},O={class:"text-light mb-0"},E={class:"col"},F={class:"card border-0 h-100 text-center py-3"},L={class:"text-light mb-0"},R={class:"col"},T={class:"card border-0 h-100 text-center py-3"},z={class:"text-light mb-0"},U={class:"panel mb-4"},q={key:0,class:"alert alert-danger"},G={key:1,class:"panel-placeholder"},J={key:2,class:"row g-4"},K={class:"card h-100 border-0 fade-card"},Q={class:"card-body d-flex flex-column gap-2"},W={class:"badge bg-secondary text-uppercase w-auto"},X={class:"card-title text-light mb-0"},Y={class:"card-text text-white-50 flex-grow-1"},Z={class:"panel"},$={key:0,class:"row g-3"},tt={class:"card border-0 h-100 mini-stat-card"},st={class:"card-body"},et={class:"text-white-50 mb-1"},lt={class:"text-light mb-2"},ot={class:"text-white-50"},at={class:"mb-0 text-white-50"},nt={key:1,class:"panel-placeholder"},rt={__name:"HomeView",setup(it){const h=n({ok:null,text:"API 상태 확인 중..."}),b=n([]),_=n([]),c=n({users:0,posts:0,rooms:0}),u=n(!0),r=n(""),p=async()=>{u.value=!0,r.value="";try{const[i,s]=await Promise.all([C(),P()]);h.value={ok:!!i?.ok,text:i?.ok?"API 정상 동작 중":"API 응답 이상"};const d=Array.isArray(s?.sections)?s.sections:[],e={id:"__random_chat_card",slug:"RANDOM_CHAT",title:"랜덤 채팅",description:"대기열에서 무작위 이용자와 바로 매칭되어 1:1 대화를 즐길 수 있습니다.",cta_label:"랜덤 채팅으로 이동",cta_link:"/random-chat.html"};b.value=[e,...d.filter(x=>(x.slug||"").toString().toUpperCase()!=="HERO"&&x.slug!==e.slug)],_.value=Array.isArray(s?.stats)?s.stats:[],c.value=s?.totals??{users:0,posts:0,rooms:0}}catch(i){console.error(i),r.value="메인 데이터를 불러오지 못했습니다."}finally{u.value=!1}};return y(p),(i,s)=>{const d=A("router-link");return o(),a(v,null,[t("section",N,[t("div",V,[t("div",null,[t("div",D,[t("span",{class:w(["badge",h.value.ok?"bg-success":"bg-danger"])},null,2),t("span",null,l(h.value.text),1)]),s[2]||(s[2]=t("h1",{class:"display-5 fw-semibold text-light mb-3"},"Codex Platform",-1)),s[3]||(s[3]=t("p",{class:"text-white-50 mb-4"},"게시판 · 계정 · 채팅을 한 곳에서 관리하고, 익명 랜덤 채팅은 전용 화면에서 즐겨보세요.",-1)),t("div",S,[s[1]||(s[1]=t("a",{class:"btn btn-primary btn-lg shadow nav-hover",href:"/random-chat.html"},"랜덤 채팅 열기",-1)),k(d,{class:"btn btn-outline-light btn-lg nav-hover",to:"/chat"},{default:g(()=>[...s[0]||(s[0]=[m("공개 채팅방 보기",-1)])]),_:1})])]),t("div",j,[t("div",I,[t("div",M,[s[4]||(s[4]=t("p",{class:"text-white-50 mb-1"},"총 게시글",-1)),t("h2",O,l(c.value.posts),1)])]),t("div",E,[t("div",F,[s[5]||(s[5]=t("p",{class:"text-white-50 mb-1"},"오픈 채팅방",-1)),t("h2",L,l(c.value.rooms),1)])]),t("div",R,[t("div",T,[s[6]||(s[6]=t("p",{class:"text-white-50 mb-1"},"계정 수",-1)),t("h2",z,l(c.value.users),1)])])])])]),t("section",U,[t("div",{class:"d-flex justify-content-between align-items-center mb-3"},[s[7]||(s[7]=t("div",null,[t("h2",{class:"h4 text-light mb-1"},"애플리케이션 개요"),t("p",{class:"text-white-50 mb-0"},"각 영역은 독립 라우트/앱으로 나뉘어 있습니다.")],-1)),t("button",{class:"btn btn-outline-info nav-hover",type:"button",onClick:p},"새로 고침")]),r.value?(o(),a("div",q,l(r.value),1)):u.value?(o(),a("div",G,"데이터를 불러오는 중...")):(o(),a("div",J,[(o(!0),a(v,null,f(b.value,e=>(o(),a("div",{key:e.id,class:"col-12 col-md-6 col-xl-3"},[t("div",K,[t("div",Q,[t("span",W,l(e.slug),1),t("h5",X,l(e.title),1),t("p",Y,l(e.description),1),e.cta_link?(o(),B(d,{key:0,class:"btn btn-sm btn-outline-light align-self-start nav-hover",to:e.cta_link},{default:g(()=>[m(l(e.cta_label||"바로가기"),1)]),_:2},1032,["to"])):H("",!0)])])]))),128))]))]),t("section",Z,[s[8]||(s[8]=t("div",{class:"mb-3"},[t("h2",{class:"h4 text-light mb-1"},"운영 수치"),t("p",{class:"text-white-50 mb-0"},"DB, 백엔드, 프런트엔드가 공유하는 제약 조건입니다.")],-1)),_.value.length?(o(),a("div",$,[(o(!0),a(v,null,f(_.value,e=>(o(),a("div",{key:e.id,class:"col-12 col-md-6 col-xl-4"},[t("div",tt,[t("div",st,[t("p",et,l(e.name),1),t("h3",lt,[m(l(e.value)+" ",1),t("small",ot,l(e.unit),1)]),t("p",at,l(e.description),1)])])]))),128))])):(o(),a("p",nt,"등록된 지표가 없습니다."))])],64)}}};export{rt as default};
