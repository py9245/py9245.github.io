import{r as n,o as b,c as o,a as s,n as x,t as l,b as y,w as h,d as v,e as A,F as k,f,g as B,h as P,i as a,j as C,k as V}from"./index-CzaoE9JK.js";const w={class:"home-hero panel"},D={class:"hero-meta"},N={class:"status"},H={class:"status-text"},I={class:"hero-actions"},j={class:"hero-stats"},F={class:"panel"},L={key:0,class:"panel-error"},M={key:1,class:"panel-placeholder"},z={key:2,class:"section-grid"},E={class:"section-slug"},O={class:"section-desc"},S={class:"panel"},T={key:0,class:"stat-grid"},q={class:"stat-label"},G={class:"stat-value"},J={class:"stat-desc"},K={key:1,class:"panel-placeholder"},U={__name:"HomeView",setup(Q){const u=n({ok:null,text:"API 상태 확인 중..."}),g=n([]),d=n([]),i=n({users:0,posts:0,messages:0}),p=n(!0),c=n(""),m=async()=>{p.value=!0,c.value="";try{const[r,t]=await Promise.all([B(),P()]);u.value={ok:!!r?.ok,text:r?.ok?"API 정상 동작 중":"API 응답 이상"},g.value=Array.isArray(t?.sections)?t.sections:[],d.value=Array.isArray(t?.stats)?t.stats:[],i.value=t?.totals??{users:0,posts:0,messages:0}}catch(r){console.error(r),c.value="메인 데이터를 불러오지 못했습니다."}finally{p.value=!1}};return b(m),(r,t)=>{const _=A("router-link");return a(),o(k,null,[s("section",w,[s("div",D,[s("div",N,[s("span",{class:x(["status-dot",{ok:u.value.ok===!0,fail:u.value.ok===!1}])},null,2),s("span",H,l(u.value.text),1)]),t[2]||(t[2]=s("h1",null,"Board · Account · Chat",-1)),t[3]||(t[3]=s("p",null,"Docker · Django · Postgres · Vue 기반으로 풀스택 흐름을 한 번에 확인할 수 있습니다.",-1)),s("div",I,[y(_,{class:"primary-btn",to:"/boards"},{default:h(()=>[...t[0]||(t[0]=[v("게시판 보기",-1)])]),_:1}),y(_,{class:"ghost-btn",to:"/chat"},{default:h(()=>[...t[1]||(t[1]=[v("채팅방 열기",-1)])]),_:1})])]),s("ul",j,[s("li",null,[s("strong",null,l(i.value.posts),1),t[4]||(t[4]=s("span",null,"총 게시글",-1))]),s("li",null,[s("strong",null,l(i.value.messages),1),t[5]||(t[5]=s("span",null,"채팅 메시지",-1))]),s("li",null,[s("strong",null,l(i.value.users),1),t[6]||(t[6]=s("span",null,"계정 수",-1))])])]),s("section",F,[s("header",{class:"panel-header"},[t[7]||(t[7]=s("div",null,[s("h2",null,"애플리케이션 개요"),s("p",null,"각 섹션은 별도 라우트/앱으로 분리되어 있습니다.")],-1)),s("button",{class:"ghost-btn",type:"button",onClick:m},"새로 고침")]),c.value?(a(),o("p",L,l(c.value),1)):p.value?(a(),o("div",M,"데이터를 불러오는 중...")):(a(),o("div",z,[(a(!0),o(k,null,f(g.value,e=>(a(),o("article",{key:e.id,class:"section-card"},[s("p",E,l(e.slug),1),s("h3",null,l(e.title),1),s("p",O,l(e.description),1),e.cta_link?(a(),C(_,{key:0,class:"ghost-btn",to:e.cta_link},{default:h(()=>[v(l(e.cta_label||"바로가기"),1)]),_:2},1032,["to"])):V("",!0)]))),128))]))]),s("section",S,[t[8]||(t[8]=s("header",{class:"panel-header"},[s("div",null,[s("h2",null,"운영 수치"),s("p",null,"DB, 백엔드, 프론트엔드가 공유하는 제약 조건입니다.")])],-1)),d.value.length?(a(),o("div",T,[(a(!0),o(k,null,f(d.value,e=>(a(),o("article",{key:e.id,class:"stat-card"},[s("p",q,l(e.name),1),s("p",G,[s("strong",null,l(e.value),1),s("span",null,l(e.unit),1)]),s("p",J,l(e.description),1)]))),128))])):(a(),o("p",K,"등록된 지표가 없습니다."))])],64)}}};export{U as default};
