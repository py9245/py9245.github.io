import{r as i,o as f,c as o,a as s,n as y,t as l,b as w,w as g,d as m,e as k,F as v,f as x,g as A,h as C,i as a,j as P,k as B}from"./index-BiiSDq5g.js";const H={class:"panel mb-4 animate-[float_8s_ease-in-out_infinite]"},N={class:"d-flex flex-column flex-lg-row justify-content-between gap-4"},V={class:"d-inline-flex align-items-center gap-2 mb-3 text-uppercase small fw-semibold"},D={class:"d-flex flex-wrap gap-3"},j={class:"mini-stats row row-cols-1 g-3"},I={class:"col"},M={class:"card border-0 h-100 text-center py-3"},O={class:"text-light mb-0"},E={class:"col"},F={class:"card border-0 h-100 text-center py-3"},L={class:"text-light mb-0"},R={class:"col"},T={class:"card border-0 h-100 text-center py-3"},z={class:"text-light mb-0"},S={class:"panel mb-4"},q={key:0,class:"alert alert-danger"},G={key:1,class:"panel-placeholder"},J={key:2,class:"row g-4"},K={class:"card h-100 border-0 fade-card"},Q={class:"card-body d-flex flex-column gap-2"},U={class:"badge bg-secondary text-uppercase w-auto"},W={class:"card-title text-light mb-0"},X={class:"card-text text-white-50 flex-grow-1"},Y={class:"panel"},Z={key:0,class:"row g-3"},$={class:"card border-0 h-100 mini-stat-card"},ss={class:"card-body"},ts={class:"text-white-50 mb-1"},es={class:"text-light mb-2"},ls={class:"text-white-50"},as={class:"mb-0 text-white-50"},os={key:1,class:"panel-placeholder"},cs={__name:"HomeView",setup(ns){const h=i({ok:null,text:"API 상태 확인 중..."}),b=i([]),u=i([]),d=i({users:0,posts:0,messages:0}),_=i(!0),r=i(""),p=async()=>{_.value=!0,r.value="";try{const[c,t]=await Promise.all([A(),C()]);h.value={ok:!!c?.ok,text:c?.ok?"API 정상 동작 중":"API 응답 이상"},b.value=Array.isArray(t?.sections)?t.sections.map(n=>({...n,slug:n.slug==="HERO"?"RANDOM_CHAT":n.slug})):[],u.value=Array.isArray(t?.stats)?t.stats:[],d.value=t?.totals??{users:0,posts:0,messages:0}}catch(c){console.error(c),r.value="메인 데이터를 불러오지 못했습니다."}finally{_.value=!1}};return f(p),(c,t)=>{const n=k("router-link");return a(),o(v,null,[s("section",H,[s("div",N,[s("div",null,[s("div",V,[s("span",{class:y(["badge",h.value.ok?"bg-success":"bg-danger"])},null,2),s("span",null,l(h.value.text),1)]),t[2]||(t[2]=s("h1",{class:"display-5 fw-semibold text-light mb-3"},"Codex Platform",-1)),t[3]||(t[3]=s("p",{class:"text-white-50 mb-4"},"게시판 · 계정 · 채팅을 한 곳에서 관리하고, 익명 랜덤 채팅은 전용 화면에서 즐겨보세요.",-1)),s("div",D,[t[1]||(t[1]=s("a",{class:"btn btn-primary btn-lg shadow nav-hover",href:"/random-chat.html"},"랜덤 채팅 열기",-1)),w(n,{class:"btn btn-outline-light btn-lg nav-hover",to:"/chat"},{default:g(()=>[...t[0]||(t[0]=[m("공개 채팅방 보기",-1)])]),_:1})])]),s("div",j,[s("div",I,[s("div",M,[t[4]||(t[4]=s("p",{class:"text-white-50 mb-1"},"총 게시글",-1)),s("h2",O,l(d.value.posts),1)])]),s("div",E,[s("div",F,[t[5]||(t[5]=s("p",{class:"text-white-50 mb-1"},"채팅 메시지",-1)),s("h2",L,l(d.value.messages),1)])]),s("div",R,[s("div",T,[t[6]||(t[6]=s("p",{class:"text-white-50 mb-1"},"계정 수",-1)),s("h2",z,l(d.value.users),1)])])])])]),s("section",S,[s("div",{class:"d-flex justify-content-between align-items-center mb-3"},[t[7]||(t[7]=s("div",null,[s("h2",{class:"h4 text-light mb-1"},"애플리케이션 개요"),s("p",{class:"text-white-50 mb-0"},"각 영역은 독립 라우트/앱으로 나뉘어 있습니다.")],-1)),s("button",{class:"btn btn-outline-info nav-hover",type:"button",onClick:p},"새로 고침")]),r.value?(a(),o("div",q,l(r.value),1)):_.value?(a(),o("div",G,"데이터를 불러오는 중...")):(a(),o("div",J,[(a(!0),o(v,null,x(b.value,e=>(a(),o("div",{key:e.id,class:"col-12 col-md-6 col-xl-3"},[s("div",K,[s("div",Q,[s("span",U,l(e.slug),1),s("h5",W,l(e.title),1),s("p",X,l(e.description),1),e.cta_link?(a(),P(n,{key:0,class:"btn btn-sm btn-outline-light align-self-start nav-hover",to:e.cta_link},{default:g(()=>[m(l(e.cta_label||"바로가기"),1)]),_:2},1032,["to"])):B("",!0)])])]))),128))]))]),s("section",Y,[t[8]||(t[8]=s("div",{class:"mb-3"},[s("h2",{class:"h4 text-light mb-1"},"운영 수치"),s("p",{class:"text-white-50 mb-0"},"DB, 백엔드, 프런트엔드가 공유하는 제약 조건입니다.")],-1)),u.value.length?(a(),o("div",Z,[(a(!0),o(v,null,x(u.value,e=>(a(),o("div",{key:e.id,class:"col-12 col-md-6 col-xl-4"},[s("div",$,[s("div",ss,[s("p",ts,l(e.name),1),s("h3",es,[m(l(e.value)+" ",1),s("small",ls,l(e.unit),1)]),s("p",as,l(e.description),1)])])]))),128))])):(a(),o("p",os,"등록된 지표가 없습니다."))])],64)}}};export{cs as default};
