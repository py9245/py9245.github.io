import{r as c,c as D,o as E,a as l,b as t,n as P,t as o,d as R,w as y,e as m,f as T,F as r,g as v,h as A,i as S,j,k as H,l as a}from"./index-TgyCev0X.js";const B={class:"panel mb-4 animate-[float_8s_ease-in-out_infinite]"},L={class:"d-flex flex-column flex-lg-row justify-content-between gap-4"},F={class:"d-inline-flex align-items-center gap-2 mb-3 text-uppercase small fw-semibold"},I={class:"d-flex flex-wrap gap-3"},N={class:"mini-stats row row-cols-1 g-3"},V={class:"col"},M={class:"card border-0 h-100 text-center py-3"},Q={class:"text-light mb-0"},W={class:"col"},G={class:"card border-0 h-100 text-center py-3"},O={class:"text-light mb-0"},z={class:"col"},K={class:"card border-0 h-100 text-center py-3"},U={class:"text-light mb-0"},$={class:"panel mb-4"},q={class:"d-flex flex-column flex-lg-row justify-content-between gap-3 mb-4"},J={class:"d-flex flex-wrap gap-2"},X=["onClick"],Y={class:"card border-0 fade-card"},Z={class:"card-body"},tt={class:"badge bg-secondary text-uppercase w-auto"},et={class:"h5 text-light mt-3 mb-2"},st={class:"text-white-50 mb-3"},ot={class:"text-white-50 small ps-3 mb-4"},at={class:"panel mb-4"},lt={key:0,class:"alert alert-danger"},nt={key:1,class:"panel-placeholder"},it={key:2,class:"row g-4"},ct={class:"card h-100 border-0 fade-card"},dt={class:"card-body d-flex flex-column gap-2"},rt={class:"badge bg-secondary text-uppercase w-auto"},ut={class:"card-title text-dark mb-0"},ht={class:"card-text text-muted flex-grow-1"},_t={class:"panel"},mt={key:0,class:"row g-3"},vt={class:"card border-0 h-100 mini-stat-card"},bt={class:"card-body"},pt={class:"text-muted mb-1"},gt={class:"text-dark mb-2"},xt={class:"text-muted"},ft={class:"mb-0 text-muted"},yt={key:1,class:"panel-placeholder"},Pt={__name:"HomeView",setup(kt){const b=c({ok:null,text:"API 상태 확인 중..."}),k=c([]),p=c([]),u=c({users:0,posts:0,rooms:0}),g=c(!0),h=c(""),_=[{id:"erd",title:"ERD & 데이터 모델",description:"PostgreSQL 기반 정규화 모델을 사용해 대화, 계정, 알림 데이터를 분리했습니다. ERD 다이어그램으로 관계형 구조를 한눈에 파악하고 변경 이력을 기록합니다.",features:["PostgreSQL 보안 정책 + 역할 기반 접근 제어","ERD 기준 FK 제약 및 데이터 무결성 확보","백업 및 PITR 스냅샷으로 장애 시점 복구"],route:{path:"/docs/erd"},cta:"ERD 다이어그램 보기"},{id:"architecture",title:"아키텍처 & 인프라",description:"WebSocket 기반 실시간 채팅과 Django REST API를 분리 배포했습니다. GitHub Pages 정적 빌드로 프런트 공격면을 줄이고, AWS WAF + nginx rate-limit으로 디도스 및 악의적인 트래픽을 방어합니다.",features:["WebSocket 소켓 구현 + 재연결 로직","DDoS 방어용 rate-limit & 오토 블록","정적 빌드/Edge Cache로 민감 정보 노출 차단"],route:{path:"/docs/architecture"},cta:"아키텍처 흐름 보기"},{id:"roadmap",title:"프로젝트 발전 과정",description:"프로토타입 → MFA 로그인 → 소켓 클러스터링 → 악성 메시지 필터링까지 단계별 발전 과정을 타임라인으로 정리했습니다. 추후에는 자동화 방어룰과 지능형 분석을 추가할 예정입니다.",features:["v1: REST 게시판 + 기본 채팅","v2: 소켓 스케일아웃 & DDoS 관제","v3: GitHub Actions 보안 스캔 + PostgreSQL 암호화"],route:{path:"/docs/roadmap"},cta:"발전 과정 살펴보기"}],x=c(_[0].id),i=D(()=>_.find(n=>n.id===x.value)||_[0]),w=async()=>{g.value=!0,h.value="";try{const[n,e]=await Promise.all([j(),H()]);b.value={ok:!!n?.ok,text:n?.ok?"API 정상 동작 중":"API 응답 이상"};const d=Array.isArray(e?.sections)?e.sections:[],s={id:"__random_chat_card",slug:"RANDOM_CHAT",title:"랜덤 채팅",description:"대기열에서 무작위 이용자와 바로 매칭되어 1:1 대화를 즐길 수 있습니다.",cta_label:"랜덤 채팅으로 이동",cta_link:"/random-chat.html"};k.value=[s,...d.filter(f=>(f.slug||"").toString().toUpperCase()!=="HERO"&&f.slug!==s.slug)],p.value=Array.isArray(e?.stats)?e.stats:[],u.value=e?.totals??{users:0,posts:0,rooms:0}}catch(n){console.error(n),h.value="메인 데이터를 불러오지 못했습니다."}finally{g.value=!1}};E(w);const C=n=>{x.value=n};return(n,e)=>{const d=T("router-link");return a(),l(r,null,[t("section",B,[t("div",L,[t("div",null,[t("div",F,[t("span",{class:P(["badge",b.value.ok?"bg-success":"bg-danger"])},null,2),t("span",null,o(b.value.text),1)]),e[2]||(e[2]=t("h1",{class:"display-5 fw-semibold text-light mb-3"},"CoCo-Chat",-1)),e[3]||(e[3]=t("p",{class:"text-white-50 mb-4"},"게시판 · 계정 · 채팅을 한 곳에서 관리하고, 익명 랜덤 채팅은 전용 화면에서 즐겨보세요.",-1)),t("div",I,[e[1]||(e[1]=t("a",{class:"btn btn-primary btn-lg shadow nav-hover",href:"/random-chat.html"},"랜덤 채팅 열기",-1)),R(d,{class:"btn btn-outline-light btn-lg nav-hover",to:"/chat"},{default:y(()=>[...e[0]||(e[0]=[m("공개 채팅방 보기",-1)])]),_:1})])]),t("div",N,[t("div",V,[t("div",M,[e[4]||(e[4]=t("p",{class:"text-white-50 mb-1"},"총 게시글",-1)),t("h2",Q,o(u.value.posts),1)])]),t("div",W,[t("div",G,[e[5]||(e[5]=t("p",{class:"text-white-50 mb-1"},"오픈 채팅방",-1)),t("h2",O,o(u.value.rooms),1)])]),t("div",z,[t("div",K,[e[6]||(e[6]=t("p",{class:"text-white-50 mb-1"},"계정 수",-1)),t("h2",U,o(u.value.users),1)])])])])]),t("section",$,[t("div",q,[e[7]||(e[7]=t("div",null,[t("h2",{class:"h4 text-light mb-2"},"프로젝트 인사이트 허브"),t("p",{class:"text-white-50 mb-0"}," ERD, 시스템 아키텍처, 발전 과정을 탭으로 살펴보며 소켓 구현, 디도스 방어, 악의적인 트래픽 차단, GitHub Pages 정적 빌드, PostgreSQL 보안 전략을 확인하세요. ")],-1)),t("div",J,[(a(),l(r,null,v(_,s=>t("button",{key:s.id,type:"button",class:P(["btn","nav-hover",x.value===s.id?"btn-info text-white":"btn-outline-info text-light"]),onClick:f=>C(s.id)},o(s.title),11,X)),64))])]),t("div",Y,[t("div",Z,[t("span",tt,o(i.value.id),1),t("h3",et,o(i.value.title),1),t("p",st,o(i.value.description),1),t("ul",ot,[(a(!0),l(r,null,v(i.value.features,s=>(a(),l("li",{key:s},o(s),1))),128))]),i.value.route?(a(),A(d,{key:0,class:"btn btn-outline-light nav-hover",to:i.value.route},{default:y(()=>[m(o(i.value.cta||"자세히 보기"),1)]),_:1},8,["to"])):S("",!0)])])]),t("section",at,[t("div",{class:"d-flex justify-content-between align-items-center mb-3"},[e[8]||(e[8]=t("div",null,[t("h2",{class:"h4 text-light mb-1"},"애플리케이션 개요"),t("p",{class:"text-white-50 mb-0"},"각 영역은 독립 라우트/앱으로 나뉘어 있습니다.")],-1)),t("button",{class:"btn btn-outline-info nav-hover",type:"button",onClick:w},"새로 고침")]),h.value?(a(),l("div",lt,o(h.value),1)):g.value?(a(),l("div",nt,"데이터를 불러오는 중...")):(a(),l("div",it,[(a(!0),l(r,null,v(k.value,s=>(a(),l("div",{key:s.id,class:"col-12 col-md-6 col-xl-3"},[t("div",ct,[t("div",dt,[t("span",rt,o(s.slug),1),t("h5",ut,o(s.title),1),t("p",ht,o(s.description),1),s.cta_link?(a(),A(d,{key:0,class:"btn btn-sm btn-outline-primary align-self-start nav-hover",to:s.cta_link},{default:y(()=>[m(o(s.cta_label||"바로가기"),1)]),_:2},1032,["to"])):S("",!0)])])]))),128))]))]),t("section",_t,[e[9]||(e[9]=t("div",{class:"mb-3"},[t("h2",{class:"h4 text-dark mb-1"},"운영 수치"),t("p",{class:"text-muted mb-0"},"DB, 백엔드, 프런트엔드가 공유하는 제약 조건입니다.")],-1)),p.value.length?(a(),l("div",mt,[(a(!0),l(r,null,v(p.value,s=>(a(),l("div",{key:s.id,class:"col-12 col-md-6 col-xl-4"},[t("div",vt,[t("div",bt,[t("p",pt,o(s.name),1),t("h3",gt,[m(o(s.value)+" ",1),t("small",xt,o(s.unit),1)]),t("p",ft,o(s.description),1)])])]))),128))])):(a(),l("p",yt,"등록된 지표가 없습니다."))])],64)}}};export{Pt as default};
