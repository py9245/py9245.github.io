import{r as n,o as y,c as o,a as s,n as w,t as l,b as x,w as v,d as r,e as k,F as b,f,g as A,h as B,i as a,j as P,k as C}from"./index-B6aGa39J.js";const V={class:"panel mb-4 animate-[float_8s_ease-in-out_infinite]"},D={class:"d-flex flex-column flex-lg-row justify-content-between gap-4"},j={class:"d-inline-flex align-items-center gap-2 mb-3 text-uppercase small fw-semibold"},N={class:"d-flex flex-wrap gap-3"},H={class:"mini-stats row row-cols-1 g-3"},I={class:"col"},F={class:"card border-0 h-100 text-center py-3"},L={class:"text-light mb-0"},M={class:"col"},z={class:"card border-0 h-100 text-center py-3"},E={class:"text-light mb-0"},O={class:"col"},S={class:"card border-0 h-100 text-center py-3"},T={class:"text-light mb-0"},q={class:"panel mb-4"},G={key:0,class:"alert alert-danger"},J={key:1,class:"panel-placeholder"},K={key:2,class:"row g-4"},Q={class:"card h-100 border-0 fade-card"},R={class:"card-body d-flex flex-column gap-2"},U={class:"badge bg-secondary text-uppercase w-auto"},W={class:"card-title text-light mb-0"},X={class:"card-text text-white-50 flex-grow-1"},Y={class:"panel"},Z={key:0,class:"row g-3"},$={class:"card border-0 h-100 mini-stat-card"},ss={class:"card-body"},ts={class:"text-white-50 mb-1"},es={class:"text-light mb-2"},ls={class:"text-white-50"},as={class:"mb-0 text-white-50"},os={key:1,class:"panel-placeholder"},cs={__name:"HomeView",setup(ns){const h=n({ok:null,text:"API 상태 확인 중..."}),p=n([]),u=n([]),c=n({users:0,posts:0,messages:0}),_=n(!0),d=n(""),g=async()=>{_.value=!0,d.value="";try{const[i,t]=await Promise.all([A(),B()]);h.value={ok:!!i?.ok,text:i?.ok?"API 정상 동작 중":"API 응답 이상"},p.value=Array.isArray(t?.sections)?t.sections:[],u.value=Array.isArray(t?.stats)?t.stats:[],c.value=t?.totals??{users:0,posts:0,messages:0}}catch(i){console.error(i),d.value="메인 데이터를 불러오지 못했습니다."}finally{_.value=!1}};return y(g),(i,t)=>{const m=k("router-link");return a(),o(b,null,[s("section",V,[s("div",D,[s("div",null,[s("div",j,[s("span",{class:w(["badge",h.value.ok?"bg-success":"bg-danger"])},null,2),s("span",null,l(h.value.text),1)]),t[2]||(t[2]=s("h1",{class:"display-5 fw-semibold text-light mb-3"},"Board · Account · Chat",-1)),t[3]||(t[3]=s("p",{class:"text-white-50 mb-4"}," Docker · Django · Postgres · Vue 스택을 한 화면에서 모니터링하고 제어할 수 있습니다. ",-1)),s("div",N,[x(m,{class:"btn btn-primary btn-lg shadow nav-hover",to:"/boards"},{default:v(()=>[...t[0]||(t[0]=[r("게시판 보기",-1)])]),_:1}),x(m,{class:"btn btn-outline-light btn-lg nav-hover",to:"/chat"},{default:v(()=>[...t[1]||(t[1]=[r("채팅방 열기",-1)])]),_:1})])]),s("div",H,[s("div",I,[s("div",F,[t[4]||(t[4]=s("p",{class:"text-white-50 mb-1"},"총 게시글",-1)),s("h2",L,l(c.value.posts),1)])]),s("div",M,[s("div",z,[t[5]||(t[5]=s("p",{class:"text-white-50 mb-1"},"채팅 메시지",-1)),s("h2",E,l(c.value.messages),1)])]),s("div",O,[s("div",S,[t[6]||(t[6]=s("p",{class:"text-white-50 mb-1"},"계정 수",-1)),s("h2",T,l(c.value.users),1)])])])])]),s("section",q,[s("div",{class:"d-flex justify-content-between align-items-center mb-3"},[t[7]||(t[7]=s("div",null,[s("h2",{class:"h4 text-light mb-1"},"애플리케이션 개요"),s("p",{class:"text-white-50 mb-0"},"각 영역은 독립 라우트/앱으로 나뉘어 있습니다.")],-1)),s("button",{class:"btn btn-outline-info nav-hover",type:"button",onClick:g},"새로 고침")]),d.value?(a(),o("div",G,l(d.value),1)):_.value?(a(),o("div",J,"데이터를 불러오는 중...")):(a(),o("div",K,[(a(!0),o(b,null,f(p.value,e=>(a(),o("div",{key:e.id,class:"col-12 col-md-6 col-xl-3"},[s("div",Q,[s("div",R,[s("span",U,l(e.slug),1),s("h5",W,l(e.title),1),s("p",X,l(e.description),1),e.cta_link?(a(),P(m,{key:0,class:"btn btn-sm btn-outline-light align-self-start nav-hover",to:e.cta_link},{default:v(()=>[r(l(e.cta_label||"바로가기"),1)]),_:2},1032,["to"])):C("",!0)])])]))),128))]))]),s("section",Y,[t[8]||(t[8]=s("div",{class:"mb-3"},[s("h2",{class:"h4 text-light mb-1"},"운영 수치"),s("p",{class:"text-white-50 mb-0"},"DB, 백엔드, 프런트엔드가 공유하는 제약 조건입니다.")],-1)),u.value.length?(a(),o("div",Z,[(a(!0),o(b,null,f(u.value,e=>(a(),o("div",{key:e.id,class:"col-12 col-md-6 col-xl-4"},[s("div",$,[s("div",ss,[s("p",ts,l(e.name),1),s("h3",es,[r(l(e.value)+" ",1),s("small",ls,l(e.unit),1)]),s("p",as,l(e.description),1)])])]))),128))])):(a(),o("p",os,"등록된 지표가 없습니다."))])],64)}}};export{cs as default};
